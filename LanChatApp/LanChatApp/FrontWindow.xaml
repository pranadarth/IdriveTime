<Window x:Class="LanChatApp.FrontWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:LanChatApp"
        mc:Ignorable="d"
        Title="Secured Chat" Height="550" Width="800">
    
    <Window.Background>
        <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
            <GradientStop Color="#D7E1EC" Offset="1" />
            <GradientStop Color="#B7C3D0" Offset="0" />
        </LinearGradientBrush>
    </Window.Background>
    
    <Window.Resources>
        
        <Style x:Key="StyledPrimaryButton" TargetType="Button">
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="Background" Value="#0078D7" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Width" Value="155"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#005A9E" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="StyledSecondaryButton" TargetType="Button">
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="Background" Value="#FF9800" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Width" Value="155"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#B3FF9800" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="StyledActionButton" TargetType="Button">
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="FontWeight" Value="Bold" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="StyledTextBox" TargetType="TextBox">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Padding" Value="5" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Grid>
                            <Border
                        Background="{TemplateBinding Background}"
                        BorderBrush="Black"
                        BorderThickness="1.5"
                        CornerRadius="8">
                            </Border>
                            <ScrollViewer x:Name="PART_ContentHost" Margin="3 2 0 0"  VerticalContentAlignment="Center"/>
                            <TextBlock
                        x:Name="PlaceholderText"
                        Margin="10,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Foreground="Gray"
                        Text="{TemplateBinding Tag}"
                        Visibility="Collapsed" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="Text" Value="">
                                <Setter TargetName="PlaceholderText" Property="Visibility" Value="Visible" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>
    <Border BorderBrush="Black" BorderThickness="1.5" Background="White"
                CornerRadius="6" Width="325" Height="420" VerticalAlignment="Center" HorizontalAlignment="Center">

        <Grid >
            <Button x:Name="Home" Content="⌂ Home" FontFamily="10" VerticalAlignment="Top" Click="Home_Click"
                    HorizontalAlignment="Left" Margin="20 20" Style="{StaticResource StyledActionButton}"/>
            
            <Grid x:Name="MainGrid" Visibility="Visible">
                <Grid.RowDefinitions>
                    <RowDefinition Height="0.2*"/>
                    <RowDefinition/>
                    <RowDefinition  Height="0.2*"/>
                </Grid.RowDefinitions>
                <Label Content="Select one to continue" Grid.Row="1" 
                       Margin="0 20 0 0" FontSize="16" FontWeight="Medium"
                       HorizontalAlignment="Center" VerticalAlignment="Top"/>
                
                <TextBox  x:Name="MyName" Grid.Row="1" Margin="0 90 0 0"  Width="185" 
                          BorderThickness="1.5" BorderBrush="Black" Height="40" Tag="Enter your name"
                          HorizontalAlignment="Center" VerticalAlignment="Top"  Style="{StaticResource StyledTextBox}" />
                
                <Button x:Name="Generator" Content="Generate Code" Click="Generator_Click" VerticalAlignment="Bottom"
                        Height="40"  Grid.Row="1"  HorizontalAlignment="Center" Margin="0 0 0 75"
                        Style="{StaticResource StyledPrimaryButton}" />
                <Button x:Name="Entered" Content="Enter the code"  Click="EnteredGrid_Click"  VerticalAlignment="Bottom"
                        Height="40"  Grid.Row="1"  HorizontalAlignment="Center" Margin="0 0 0 20" 
                        Style="{StaticResource StyledPrimaryButton}" />
            </Grid>

            <Grid x:Name="GenerateGrid" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="0.2*"/>
                    <RowDefinition/>
                    <RowDefinition  Height="0.2*"/>
                </Grid.RowDefinitions>
                <Label Content="Share this code with your friend" Grid.Row="1" 
                     Margin="0 40 0 0" FontSize="16" FontWeight="Medium"
                     HorizontalAlignment="Center" VerticalAlignment="Top"/>
                
                <Border Grid.Row="1" Margin="0 0 0 20"  Width="185" CornerRadius="8"
                        BorderThickness="1.5" BorderBrush="Black" Height="40"
                        HorizontalAlignment="Center" VerticalAlignment="Center" >
                    <Grid VerticalAlignment="Center" >
                        <TextBlock x:Name="Code"  Text="abacdefghkaadffdsdfsdfsddsfsee" FontSize="15"
                                    HorizontalAlignment="Left" VerticalAlignment="Center"
                                  TextTrimming="CharacterEllipsis"  Margin=" 5 0 28 0" />
                        <Button Content="📄" x:Name="CopyBtn" HorizontalAlignment="Right" Margin="0 0 2 0" FontSize="16"
                                Background="Transparent" BorderThickness="0"  Click="Copy_Click"
                                Style="{StaticResource StyledActionButton}">
                            <Button.ToolTip>
                                <ToolTip x:Name="CopyTooltip" Content="Copy" />
                            </Button.ToolTip>
                        </Button>
                    </Grid>
                </Border>
                <TextBlock Text="Waiting for other user to connect..."  FontSize="14" VerticalAlignment="Bottom"
                  Height="40"  Grid.Row="1"  HorizontalAlignment="Center" Margin="0 0 0 20" 
                  />
            </Grid>

            <Grid x:Name="EnterGrid" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="0.2*"/>
                    <RowDefinition/>
                    <RowDefinition  Height="0.2*"/>
                </Grid.RowDefinitions>
                <Label Content="Enter the code generated here" Grid.Row="1" 
                        Margin="0 40 0 0" FontSize="16" FontWeight="Medium"
                        HorizontalAlignment="Center" VerticalAlignment="Top"/>

                <TextBox  x:Name="EnteredCode" Grid.Row="1" Margin="0 0 0 30"  Width="185" 
                          BorderThickness="1.5" BorderBrush="Black" Height="40" Tag="Paste the code here"
                          HorizontalAlignment="Center" VerticalAlignment="Center"  Style="{StaticResource StyledTextBox}" />
               
                <Button x:Name="EnterBtn" Content="Enter"  Width="100" Click="EnterBtn_Click"
                        Height="40"  Grid.Row="1"  HorizontalAlignment="Center" Margin="0 130 0 0" 
                        Style="{StaticResource StyledSecondaryButton}" />

            </Grid>

            <Label x:Name="Error" VerticalAlignment="Bottom" HorizontalAlignment="Center"
                   Content="" Foreground="Red" Margin="0 0 0 25"/>

        </Grid>
    </Border>
</Window>
